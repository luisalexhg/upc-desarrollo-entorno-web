<section class="bg-light o-hidden pt-5 pb-5 custom-bg">
   <div class="container">
    <div class="row align-items-center justify-content-center">
      <div class="col-md-8">
        <div class="card pt-5">
            <div class="text-center" *ngFor="let doctor of doctors" >
                <img style="width:100%;max-width:128px;margin-right:15px" src="{{doctors[0].image}}" alt="{{doctors[0].name}} {{doctors[0].lastName}}">
                <h3 class="services-title text-center">Dr. {{doctors[0].name}} {{doctors[0].lastName}}</h3>
                <span style="margin-left:15px">Especialista en {{doctors[0].specialtyName}}</span>
            </div>

          <form class="border border-light p-5" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <p class="h4 mb-4 text-center">Datos de la cita</p>
            
            <input class="form-control" [(ngModel)]="doctor" type="hidden" value="" id="doctor" formControlName="doctor">

            <div class="row">
                <div class="col-6">
                    <div class="form-group mb-3 ">
                        <label for="documentType">Tipo de documento:</label>
                        <select class="form-select" id="documentType" [(ngModel)]="documentType" formControlName="documentType">
                          <option value="DNI" selected>DNI</option>
                          <option value="CE">CE</option>
                        </select>
                    </div>
                </div>
    
                <div class="col-6">
                    <div class="form-group mb-3">
                        <label for="documentNumber">Número de documento:</label>
                        <input class="form-control" maxlength="20" [(ngModel)]="documentNumber" type="text" id="documentNumber" formControlName="documentNumber">
                        <div class="error-message" *ngIf="formSubmitted && loginForm.get('documentNumber')?.hasError('required')">
                        El nombre de usuario es requerido.
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <div class="form-group mb-3">
                        <label for="lastName">Nombres:</label>
                        <input class="form-control" maxlength="20" [(ngModel)]="name" type="text" id="name" formControlName="name">
                        <div class="error-message" *ngIf="formSubmitted && loginForm.get('name')?.hasError('required')">
                        El nombre es requerido.
                        </div>
                    </div>
                </div>
    
                <div class="col-6">
                    <div class="form-group mb-3">
                        <label for="lastName">Apellidos:</label>
                        <input class="form-control" maxlength="20" [(ngModel)]="lastName" type="text" id="lastName" formControlName="lastName">
                        <div class="error-message" *ngIf="formSubmitted && loginForm.get('lastName')?.hasError('required')">
                        El apellido es requerido.
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <div class="form-group mb-3">
                        <label for="date">Fecha:</label>
                        <input class="form-control" type="date" id="date" [(ngModel)]="date" formControlName="date">
                        <div class="error-message" *ngIf="formSubmitted && loginForm.get('date')?.hasError('required')">
                        La fecha de la cita es requerida.
                        </div>

                    </div>
                </div>

                <div class="col-6">
                    <div class="form-group mb-3">
                        <label for="hour">Horario:</label>
                        <select class="form-select" id="hour" [(ngModel)]="hour" formControlName="hour">
                            <option value="09:00" selected>09:00</option>
                            <option value="10:00" selected>10:00</option>
                            <option value="11:00" selected>11:00</option>
                            <option value="12:00" selected>12:00</option>
                            <option value="13:00" selected>13:00</option>
                        </select>
                    </div>
                </div>
            </div>
          
            <div class="row align-items-center justify-content-center text-center">
                <div class="col-12">
                    <button class="btn btn-primary mt-3" style="border-radius: 2.5rem;padding: 14px 2rem;
                    font-size: 1rem;
                    line-height: 1.25rem;background-color:black;" type="submit">Confirmar cita</button>
                </div>
                
                </div>


          </form>


        <div class="row align-items-center justify-content-center mb-5" *ngIf="loading">
            <div class="loader"></div>
          </div>

        </div>


        <div class="pt-5">
            <a style="color:black" class="text-center" routerLink="/agendar-cita">
               <p class="text-center">← Volver</p>
           </a>
         </div>
        
      </div>

     
    </div>

</div>
</section>
